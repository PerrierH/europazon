<?php
/**
 * Mageplaza
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Mageplaza.com license that is
 * available through the world-wide-web at this URL:
 * https://www.mageplaza.com/LICENSE.txt
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade this extension to newer
 * version in the future.
 *
 * @category    Mageplaza
 * @package     Mageplaza_Shopbybrand
 * @copyright   Copyright (c) Mageplaza (https://www.mageplaza.com/)
 * @license     https://www.mageplaza.com/LICENSE.txt
 */

/** @var \Mageplaza\Shopbybrand\Block\Brand\View $block */
$relatedBrands = $block->getRelatedBrands();
$timeId        = time();

if (!empty($relatedBrands) && $relatedBrands->getSize() > 0) : ?>
    <?= /** @noEscape */ $block->includeCssLib() ?>
    <div class="block block-brand-related widget">
        <div class="block-title">
            <strong id="block-related-brand-heading" role="heading"
                    aria-level="2"><?= /** @noEscape */ __('Related Brands') ?></strong>
        </div>
        <div class="block-content">
            <div class="owl-carousel owl-theme brand-carousel"
                 id="related-brand-carousel-<?= /** @noEscape */ $timeId ?>"
                 data-mage-init='{"brandSliderRelated":{}}'>
                <?php foreach ($relatedBrands as $brand) : ?>
                    <a href="<?= /** @noEscape */ $block->helper()->getBrandUrl($brand) ?>">
                        <img class="img-responsive brand-image"
                             src="<?= /** @noEscape */ $block->helper()->getBrandImageUrl($brand) ?>"
                             width="<?= /** @noEscape */ $block->getLogoWidth() ?>"
                             height="<?= /** @noEscape */ $block->getLogoHeight() ?>"
                             alt="<?= /** @noEscape */ $brand->getValue() ?>">
                            <span><?= /** @noEscape */ $brand->getValue() ?></span>
                    </a>
                <?php endforeach; ?>
            </div>
        </div>
    </div>
    <style>
        .block.block-brand-related .block-title, .block.block-brand-related .owl-item {
            text-align: center;
        }
    </style>
<?php endif; ?>
